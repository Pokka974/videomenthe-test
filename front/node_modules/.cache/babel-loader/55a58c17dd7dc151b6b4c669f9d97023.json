{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pokka\\\\Desktop\\\\DEV\\\\videomenthe-test\\\\front\\\\src\\\\components\\\\UploadForm.tsx\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport Form from 'react-bootstrap/Form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class UploadForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateFile = file => {\n      console.log(file);\n      this.setState(state => ({\n        file\n      }));\n    };\n\n    this.sendVideo = async e => {\n      e.preventDefault();\n      const video = new FormData();\n      video.append('video', this.state.file);\n      await axios.post('http://localhost:8000/upload/', video);\n      this.setState(state => ({\n        file: {}\n      }));\n    };\n\n    this.state = {\n      file: {}\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Form.Group, {\n      controlId: \"formFileLg\",\n      className: \"mb-3 flex\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Large file input example\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        onChange: e => {\n          if (!e.currentTarget.files) {\n            return;\n          }\n\n          const file = e.currentTarget.files[0];\n\n          if (!file.type.includes('video')) {\n            return window.alert('Seulement les fichiers vidéos sont acceptés');\n          }\n\n          this.updateFile(file);\n        },\n        className: \"mb-2\",\n        type: \"file\",\n        size: \"lg\",\n        name: \"video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.sendVideo,\n        className: \"btn-success\",\n        type: \"submit\",\n        children: \"Submit form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 16\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Pokka/Desktop/DEV/videomenthe-test/front/src/components/UploadForm.tsx"],"names":["axios","React","Component","Button","Form","UploadForm","constructor","props","updateFile","file","console","log","setState","state","sendVideo","e","preventDefault","video","FormData","append","post","render","currentTarget","files","type","includes","window","alert"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;;AACA,eAAe,MAAMC,UAAN,SAAyBH,SAAzB,CAAqD;AAE/DI,EAAAA,WAAW,CAACC,KAAD,EAAa;AACnB,UAAMA,KAAN;;AADmB,SAOxBC,UAPwB,GAOVC,IAAD,IAAgB;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,WAAKG,QAAL,CAAeC,KAAD,KAAY;AAACJ,QAAAA;AAAD,OAAZ,CAAd;AACJ,KAVuB;;AAAA,SAYxBK,SAZwB,GAYZ,MAAOC,CAAP,IAAmD;AAC1DA,MAAAA,CAAC,CAACC,cAAF;AAEA,YAAMC,KAAgB,GAAG,IAAIC,QAAJ,EAAzB;AAEAD,MAAAA,KAAK,CAACE,MAAN,CAAa,OAAb,EAAsB,KAAKN,KAAL,CAAWJ,IAAjC;AAEA,YAAMT,KAAK,CAACoB,IAAN,CAAW,+BAAX,EAA4CH,KAA5C,CAAN;AAEA,WAAKL,QAAL,CAAeC,KAAD,KAAY;AAAEJ,QAAAA,IAAI,EAAE;AAAR,OAAZ,CAAd;AACJ,KAtBuB;;AAEnB,SAAKI,KAAL,GAAa;AACRJ,MAAAA,IAAI,EAAG;AADC,KAAb;AAGJ;;AAmBDY,EAAAA,MAAM,GAAG;AACJ,wBACK,QAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,YAAtB;AAAmC,MAAA,SAAS,EAAC,WAA7C;AAAA,8BACK,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADL,eAEK,QAAC,IAAD,CAAM,OAAN;AAAc,QAAA,QAAQ,EAAIN,CAAD,IAA6C;AACjE,cAAG,CAACA,CAAC,CAACO,aAAF,CAAgBC,KAApB,EAA2B;AAAE;AAAQ;;AAErC,gBAAMd,IAAI,GAAGM,CAAC,CAACO,aAAF,CAAgBC,KAAhB,CAAsB,CAAtB,CAAb;;AACA,cAAI,CAACd,IAAI,CAACe,IAAL,CAAUC,QAAV,CAAmB,OAAnB,CAAL,EAAkC;AAAE,mBAAOC,MAAM,CAACC,KAAP,CAAa,6CAAb,CAAP;AAAoE;;AACxG,eAAKnB,UAAL,CAAgBC,IAAhB;AACJ,SAND;AAMI,QAAA,SAAS,EAAC,MANd;AAMqB,QAAA,IAAI,EAAC,MAN1B;AAMiC,QAAA,IAAI,EAAC,IANtC;AAM2C,QAAA,IAAI,EAAC;AANhD;AAAA;AAAA;AAAA;AAAA,cAFL,eASK,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKK,SAAtB;AAAiC,QAAA,SAAS,EAAC,aAA3C;AAAyD,QAAA,IAAI,EAAC,QAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATL;AAAA;AAAA;AAAA;AAAA;AAAA,YADL;AAaJ;;AAxC8D","sourcesContent":["import axios from 'axios'\r\nimport React, { Component } from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport Form from 'react-bootstrap/Form'\r\nexport default class UploadForm extends Component<{}, {file: File}> {\r\n\r\n     constructor(props: any) {\r\n          super(props)\r\n          this.state = {\r\n               file : {} as File\r\n          }\r\n     }\r\n\r\n     updateFile = (file: File) => {\r\n          console.log(file);\r\n          this.setState((state) => ({file}))\r\n     }\r\n\r\n     sendVideo = async (e : React.MouseEvent<HTMLButtonElement>) => {\r\n          e.preventDefault()\r\n\r\n          const video : FormData = new FormData()\r\n\r\n          video.append('video', this.state.file)\r\n\r\n          await axios.post('http://localhost:8000/upload/', video)\r\n\r\n          this.setState((state) => ({ file: {} as File}))\r\n     }\r\n\r\n     render() {\r\n          return (\r\n               <Form.Group controlId=\"formFileLg\" className=\"mb-3 flex\">\r\n                    <Form.Label>Large file input example</Form.Label>\r\n                    <Form.Control onChange={ (e: React.ChangeEvent<HTMLInputElement>)  => {\r\n                         if(!e.currentTarget.files) { return }\r\n                         \r\n                         const file = e.currentTarget.files[0]\r\n                         if (!file.type.includes('video')) { return window.alert('Seulement les fichiers vidéos sont acceptés') }\r\n                         this.updateFile(file)\r\n                    } } className='mb-2' type=\"file\" size=\"lg\" name='video' />\r\n                    <Button onClick={this.sendVideo} className='btn-success' type=\"submit\">Submit form</Button>\r\n               </Form.Group>\r\n          )\r\n     }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}